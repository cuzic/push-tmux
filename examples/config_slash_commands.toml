[tmux]
use_device_name_as_session = true
enter_delay = 1.0

# Slash commands settings
[slash_commands_settings]
# Enable fallback for undefined slash commands (default: true)
# When true, undefined commands like /login will be sent as normal messages
# When false, undefined commands will show an error message (legacy behavior)
fallback_undefined = true

# Slash commands configuration
[slash_commands.deploy]
# Template with placeholders for arguments
template = "cd /app && git checkout {branch} && docker-compose up -d {service}"
# Default values for optional arguments
defaults = { branch = "main", service = "all" }
# Optional: restrict to specific devices
allowed_devices = ["production-server", "staging-server"]
# Optional: specify target tmux session
target_session = "deploy"

[slash_commands.test]
template = "pytest {path} -v {options}"
defaults = { path = ".", options = "" }
execute_once = true  # Execute only once per session

[slash_commands.build]
template = "npm run build -- --env={env} --target={target}"
defaults = { env = "production", target = "web" }

[slash_commands.restart]
template = "sudo systemctl restart {service}"
defaults = { service = "nginx" }
allowed_devices = ["server"]

[slash_commands.log]
template = "tail -f {file} | grep {filter}"
defaults = { file = "/var/log/app.log", filter = "ERROR" }
target_session = "monitoring"

[slash_commands.ssh]
template = "ssh {user}@{host} -p {port}"
defaults = { user = "admin", port = "22" }

[slash_commands.backup]
template = "pg_dump {database} > backup_{database}_{timestamp}.sql"
defaults = { database = "myapp", timestamp = "$(date +%Y%m%d_%H%M%S)" }
execute_once = true

[slash_commands.notify]
template = "echo '{message}' | mail -s '{subject}' {email}"
defaults = { subject = "Notification", email = "admin@example.com", message = "Task completed" }

# Timer commands with delay functionality
[slash_commands.timer]
template = "echo '⏰ {message}'"
defaults = { message = "Timer finished!" }
delay_seconds = 10  # Default 10 seconds delay

[slash_commands.reminder]
template = "notify-send 'Reminder' '{text}'"
defaults = { text = "Don't forget your task!" }
delay_seconds = 60  # Default 1 minute delay

[slash_commands.pomodoro]
template = "echo '🍅 Pomodoro finished! Take a 5-minute break.'"
delay_seconds = 1500  # 25 minutes

[slash_commands.shortbreak]
template = "echo '☕ Break time is over! Back to work.'"
delay_seconds = 300  # 5 minutes

[slash_commands.longbreak]
template = "echo '🎉 Long break finished! Ready for another session?'"
delay_seconds = 900  # 15 minutes